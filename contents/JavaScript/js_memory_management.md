# 📚 자바스크립트 메모리 관리

## 📖 자바스크립트 생명주기
- 메모리 할당 : 메모리에 공간을 예약
- 메모리 사용 : 변수를 읽거나 쓰는 작업을 의미
- 메모리 해제 : 할당된 메모리를 해제

</br>

## 📖 자바스크립트 데이터타입
### 📍 원시타입
- string, number, Boolean, null, undefined, symbol
- 원시타입의 값을 변수에 할당하면 변수에는 실제 값이 저장
- 값 자체에 대한 변경이 불가능하지만 변수에 데이터 재할당 가능
- 재할당을 해도 변수의 할당 값에 영향을 주지 않음
- 변경된 값을 가리키는 주소 값으로 변수의 값이 변경됨
- 원시 값을 갖는 변수는 다른 변수를 할당하면 원본의 원시 값이 복사되어 전달


</br> 

### 📍 참조타입
- object, array, function 변수를 저장할때 값이 아닌 '주소'를 저장
- 값을 재할당하는 경우 주소를 참조한 모든 값이 공유되어 영향을 받음
- 객체를 변수에 할당하면 변수에는 참조 값인 메모리 주소가 저장
- 객체를 가리키는 변수는 다른 변수에 할당하면 원본의 참조 값에 복사되어 전달

</br> 

## 📖 JavaScript 메모리 주소 공간
### 📍 Code Area, Call Stack, Heap
1. Code Area   
* 실행할 JS 코드 저장
2. Call Stack   
* 실행 중인 함수 찾아 계산, 지역변수 저장   
* LIFO 형식으로 저장되며 원시 타입들이 저장   
3. Heap   
* 참조타입들이 할당됨   
* 메모리 할당이 랜덤하게 들어감   


</br> 

### 📍 스택 
- 정적 메모리 할당
- 원시값과 객체 및 함수의 참조 저장하는 자료구조
- 정적 데이터는 크기가 변하지 않아 고정된 크기의 메모를 사전에 할당
- v8 엔진이 아닌 운영체제가 관리


</br> 


### 📍 힙
- 동적 메모리 할당
- 메모리 크기가 고정되지 않아 필요에 따라 메모리가 확장될 수 있음
- 힙의 메모리는 스택에 저장된 포인터로 관리됨
- 참조 타입의 경우 메모리 블록이 힙에 할당 되고, 그 블록 주소가 스택의 포인터에 저장

</br> 


## 📖 가비지 콜렉터
- 자바스크립트는 자동으로 필요없는 메모리를 정리함 
- JS 엔진이 어떤 함수나 변수가 필요하지 않다는걸 알고리즘으로 파악 
- 더 이상 사용하지 않을 때 가비지 컬렉터로 메모리 해제
- 가비지 콜렉션을 수행할 때 힙에 존재하는 데이터와 포인터를 구분하는 것이 중요하기 때문에 v8은 tagged pointer를 통해서 이 둘을 구분

</br> 


## 📖 메모리 관리를 위한 방법
1. 브라우저의 프로파일링 도구를 활용
2. 개발자 도구 메모리 탭에서 힙 스냅샷 생성해 메모리 사용량 확인
3. 할당 타임라인 모드를 선택해, 메모리 사용량을 파악하고 타임라인으로 확인 가능


</br>

